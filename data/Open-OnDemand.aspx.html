<h4><span class="fontColorBlue">Contents on this page:</span></h4><p><a href="/sites/rc2/SitePages/Open-OnDemand.aspx">Open OnDemand</a><br><a href="/sites/rc2/SitePages/Open-OnDemand.aspx#accessing-open-ondemand">Accessing Open OnDemand</a><br><a href="/sites/rc2/SitePages/Open-OnDemand.aspx#wehi-open-ondemand-services">WEHI Open OnDemand services</a><br><a href="/sites/rc2/SitePages/Open-OnDemand.aspx#file-management">File management</a><br><a href="/sites/rc2/SitePages/Open-OnDemand.aspx#slurm-job-submission-and-monitor">SLURM job submission and monitor</a><br><a href="/sites/rc2/SitePages/Open-OnDemand.aspx#command-line-shell-access">Command-line shell access</a><br><a href="/sites/rc2/SitePages/Open-OnDemand.aspx#interactive-sessions">Interactive session</a></p><ul><li><a href="/sites/rc2/SitePages/Open-OnDemand.aspx#milton-desktop">Milton Desktop</a></li><li><a href="/sites/rc2/SitePages/Open-OnDemand.aspx#jupyter-notebook">Jupyter Notebooks</a></li><li><a href="/sites/rc2/SitePages/Open-OnDemand.aspx#rstudio-server">RStudio</a></li><li><a href="/sites/rc2/SitePages/Open-OnDemand.aspx#shiny-app">Shiny App</a></li></ul>
<p><a href="https://openondemand.org/" data-interception="off" target="_blank" rel="noopener noreferrer">Open OnDemand</a> is an NSF-funded open-source HPC portal. It provides easy web access to HPC resources, including, but not limited to:<br>​​​​​​​</p><ul><li>GUI file management</li><li>Command-line shell access</li><li>SLURM job management and monitoring</li><li>The ability to run GUI applications in the batch system.</li></ul>
<p>You can open an RStudio server session or a Jupyter notebook through Open OnDemand, and it will use resources provisioned through SLURM.</p><p>This ensures that even if your browser tab is closed, the session will not be cancelled until you explicitly cancel it or the SLURM job times out after the requested <i><span class="fontColorBlue">Runtime</span></i> (shown below).</p><p>This also means that you should <strong>delete jobs when you have finished</strong> to free up resources.<br>​​​​​​​</p><figure class="table tableCenterAlign canvasRteResponsiveTable" style="width:540px;" title="Table"><table class="ck-table-resized"><colgroup><col style="width:3.8%;"><col style="width:96.2%;"></colgroup><tbody><tr><td style="vertical-align:top;" rowspan="2"><p style="text-align:center;"><br><br><span class="fontColorRed"><strong>​​​​​​​NOTE:</strong></span></p></td><td style="vertical-align:top;"><i><span class="fontColorBlue">To use WEHI Open OnDemand, you need to have access to our SLURM batch system. If you don't, please request access through a</span> </i><a href="mailto:support@wehi.edu.au"><i>Helpdesk</i></a><i> <span class="fontColorBlue">ticket.</span></i></td></tr><tr><td style="vertical-align:top;"><i><span class="fontColorBlue">OnDemand does not work through the Pulse VPN.</span></i>​​​​​​​</td></tr></tbody></table></figure>
<h3><span class="fontColorThemeSecondary">Accessing Open OnDemand</span></h3><p>Once you have access to Milton (<a href="/sites/rc2/SitePages/using-milton.aspx">refer to this page</a>), you can access Open OnDemand at <a href="https://ondemand.hpc.wehi.edu.au/"><strong>ondemand.hpc.wehi.edu.au</strong></a>.</p><p>The home page will look similar to this screenshot on the right:</p>
<h2>WEHI Open OnDemand services</h2><h2><span class="fontColorThemeSecondary">File management</span></h2><p>Choosing <i><span class="fontColorBlue">Files -&gt; Home Directory</span></i> from the top menu, you can manage (view, copy, edit, delete, etc) the files and directories that reside in your home directory.</p>
<h3><span class="fontColorThemeSecondary">SLURM job submission and monitor</span></h3><p>Choosing <i><span class="fontColorBlue">Jobs -&gt; Active Jobs</span></i> shows all the active jobs in the SLURM queue.</p>
<p>Selecting <i><span class="fontColorBlue">All Jobs</span></i> from the right-side menu, instead of <i><span class="fontColorBlue">Your Jobs</span></i>, allows you to see all the jobs in the queue (running, completed and queued).</p>
<p>You can also create and submit a new job by choosing <i><span class="fontColorBlue">Jobs -&gt; Job Composer</span></i>.</p>
<h3><span class="fontColorThemeSecondary">Command-line shell access</span></h3>
<p>From the blue horizontal menu at the top of the screen, choosing</p><pre><span class="fontColorRed">Clusters -&gt; &gt;_Slurm Shell Access</span></pre><p>will open up a terminal window in your browser and log you into the&nbsp;SLURM login node.</p>
<h3><span class="fontColorThemeSecondary">Interactive sessions</span><br><br>&nbsp;</h3><ul><li>Desktop Linux desktop</li><li>GPU Desktops</li><li>SeqMonk</li><li>Jupyter notebook</li><li>RStudio</li><li>Shiny App<br><br>&nbsp;</li></ul><p>All interactive sessions run in SLURM, so you need to specify how much memory, CPU cores, and time you require.</p>
<p>To request an interactive session, you need to provide the following:<br><br>&nbsp;</p><ul><li><span class="fontColorBlueDark"><strong>Partition:</strong></span>&nbsp;normally most OnDemand jobs will run on the <i><span class="fontColorBlue">interactive</span></i> partition, but if&nbsp;you have heavyweight jobs&nbsp;you can use the <i><span class="fontColorBlue">regular</span></i> partition. Read more about the different <a href="/sites/rc2/SitePages/SLURM-partitions.aspx">SLURM partitions here</a>.</li><li><strong>Number of CPUs</strong></li><li><strong>Memory </strong>(optional)</li><li><strong>Runtime:</strong>&nbsp;be aware that SLURM will cancel your job when the runtime expires.<br><br>&nbsp;</li></ul><p><span class="fontColorRed"><strong>Please manually delete jobs when you are finished.</strong></span></p>
<h2><span class="fontColorBlue"><u>Due to network issues</u>, OnDemand Desktop is not available through RAP, <strong>only accessible</strong> <strong>from within WEHI VPN.</strong></span></h2><p>&nbsp;</p>
<h4><span class="fontColorBlue">Milton desktop</span></h4><p>The&nbsp;example below requests a Milton Linux desktop that will run in the SLURM batch system using a regular partition, 5 CPUs, 40GB memory, and 1 hour runtime.</p>
<p>Provisioning the requested job may take time depending on the resources requested and current system load. Once the job is running you can access your Desktop by clicking the blue <i><span class="fontColorBlue">Launch Milton Desktop</span></i> button.</p>
<h4><span class="fontColorBlue">Jupyter Notebook</span></h4><p>When requesting a Jupyter Notebook you can also specify to load any module&nbsp;(from the <a href="/sites/rc2/SitePages/modules.aspx#modules-system">Modules system</a>). More details about Jupyter Notebooks on Open OnDemand are available <a href="/sites/rc2/SitePages/Jupyter-Open-OnDemand.aspx"><strong>here</strong></a>.</p>
<h4><span class="fontColorBlue">RStudio Server</span></h4><p>On RStudio Server you can specify which R version and additional modules you need to load.</p>
<h4><span class="fontColorBlue">Shiny App</span></h4><p>You can also request a Shiny server. You will need to specify the path to your shiny app directory for the server to locate. You need to select a correct directory path with a valid shiny app.</p><p><i><span class="fontColorBlue">If the shiny app directory does not exist, shiny will log the error and terminate the job&nbsp;with exit 4.</span></i></p><p>For example,</p><pre>6631513 sys/dashb+ regular wehi 1 FAILED 4:0\n6631513.bat+ batch wehi 1 FAILED 4:0</pre><p>Anyone with a link to your app will be able to view it and interact with it. This can be a valuable solution for sharing and collaborating with colleagues inside WEHI. <span class="fontColorBlue"><strong>No access lists are supported</strong></span>.</p>
<p>Ensure that <strong>R shiny package</strong> has been installed, as well as any other package that your app uses.</p><pre><span class="fontColorBlue">install.packages("shiny")</span></pre><p>Also ensure you choose the correct <strong>R version</strong> where all the packages have been installed.</p>
