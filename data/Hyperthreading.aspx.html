<h2><span class="fontColorThemeSecondary">Hyperthreading and SLURM</span></h2><p><br>CPU Cores and memory are consumable resources, and on our Milton, all SLURM nodes have hyperthreading enabled. And according to SLURM's documentation,</p><blockquote><p>If your nodes are configured with hyperthreading, then <span class="fontColorRedDark">a CPU is equivalent to a hyperthread.</span> Otherwise a CPU is equivalent to a core. You can determine if your nodes have more than one thread per core using the command "scontrol show node" and looking at the values of "ThreadsPerCore".</p></blockquote><p>We have&nbsp;ThreadsPerCore=2, which means that each core can allocate two threads. On nodes with hyper-threads, each thread is counted as a CPU to satisfy a job's resource requirement, but multiple jobs are not allocated threads on the same core. The count of CPUs allocated to a job may be rounded up to account for every CPU on an allocated core.&nbsp;</p><p>Two different jobs will not share a core. For example, a job requesting resources for three tasks on a node with ThreadsPerCore=2 will be allocated two full cores, i.e. 4 hyperthreads (CPUs).</p><p>Another example, a job requested as follows</p><pre> salloc -c5 --mem 2G</pre><p>will be allocated 6 hyperthreads (CPUs)&nbsp;not 5.</p><p>Note that Slurm commands contain a multitude of options to control resource allocation with respect to base boards, sockets, cores and threads.</p><p>Go to&nbsp;<a title="https://slurm.schedmd.com/mc_support.html" data-interception="off" data-cke-saved-href="https://slurm.schedmd.com/mc_support.html" href="https://slurm.schedmd.com/mc_support.html"><span class="fontColorBlue">Support for Multi-core/Multi-thread Architectures</span></a>&nbsp;for more details</p>
