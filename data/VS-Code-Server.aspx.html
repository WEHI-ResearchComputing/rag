<p>We have <a href="https://github.com/coder/code-server" data-cke-saved-href="https://github.com/coder/code-server" data-interception="on" title="https://github.com/coder/code-server">code-server</a> installed on Open OnDemand, to enable development work and testing on Milton's compute nodes. Code-server is a third party, open-source tool that aims to replicate the Visual Studio Code IDE in the web browser.</p>
<h3>Starting a Session</h3><h4>1. log into <a href="https://ondemand.hpc.wehi.edu.au" data-cke-saved-href="https://ondemand.hpc.wehi.edu.au" data-interception="on" title="https://ondemand.hpc.wehi.edu.au">ondemand.hpc.wehi.edu.au</a> with your WEHI credentials</h4><p>This can be done from either a WEHI device or your own.</p><h4>2. Select Code Server from the system applications</h4><div><div tabindex="-1" data-cke-widget-wrapper="1" data-cke-filter="off" class="cke_widget_wrapper cke_widget_block cke_widget_inlineimage cke_widget_wrapper_webPartInRteInlineImage cke_widget_wrapper_webPartInRteClear cke_widget_wrapper_webPartInRteAlignCenter cke_widget_wrapper_webPartInRte" data-cke-display-name="div" data-cke-widget-id="7" role="region" aria-label="Inline image in RTE. Use Alt + F11 to go to toolbar. Use Alt + P to open the property pane."><div data-webpart-id="image" class="webPartInRte webPartInRteAlignCenter webPartInRteClear webPartInRteInlineImage cke_widget_element" data-cke-widget-data="%7B%22classes%22%3A%7B%22webPartInRteInlineImage%22%3A1%2C%22webPartInRteClear%22%3A1%2C%22webPartInRteAlignCenter%22%3A1%2C%22webPartInRte%22%3A1%7D%7D" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="inlineimage" data-instance-id="95d01311-c669-493e-b73c-ddc559015240" title=""></div></div><h4>3. Choose the partition and resources to submit the job with, modules, and your working directory<br></h4><div tabindex="-1" data-cke-widget-wrapper="1" data-cke-filter="off" class="cke_widget_wrapper cke_widget_block cke_widget_inlineimage cke_widget_wrapper_webPartInRteInlineImage cke_widget_wrapper_webPartInRteClear cke_widget_wrapper_webPartInRteAlignCenter cke_widget_wrapper_webPartInRte" data-cke-display-name="div" data-cke-widget-id="6" role="region" aria-label="Inline image in RTE. Use Alt + F11 to go to toolbar. Use Alt + P to open the property pane."><div data-webpart-id="image" class="webPartInRte webPartInRteAlignCenter webPartInRteClear webPartInRteInlineImage cke_widget_element" data-cke-widget-data="%7B%22classes%22%3A%7B%22webPartInRteInlineImage%22%3A1%2C%22webPartInRteClear%22%3A1%2C%22webPartInRteAlignCenter%22%3A1%2C%22webPartInRte%22%3A1%7D%7D" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="inlineimage" data-instance-id="b08c5be9-40ba-4fbf-9051-f21822b8175f" title=""></div></div><h4>4. Click Launch and connect once the job has started</h4><div tabindex="-1" data-cke-widget-wrapper="1" data-cke-filter="off" class="cke_widget_wrapper cke_widget_block cke_widget_inlineimage cke_widget_wrapper_webPartInRteInlineImage cke_widget_wrapper_webPartInRteClear cke_widget_wrapper_webPartInRteAlignCenter cke_widget_wrapper_webPartInRte" data-cke-display-name="div" data-cke-widget-id="5" role="region" aria-label="Inline image in RTE. Use Alt + F11 to go to toolbar. Use Alt + P to open the property pane."><div data-webpart-id="image" class="webPartInRte webPartInRteAlignCenter webPartInRteClear webPartInRteInlineImage cke_widget_element" data-cke-widget-data="%7B%22classes%22%3A%7B%22webPartInRteInlineImage%22%3A1%2C%22webPartInRteClear%22%3A1%2C%22webPartInRteAlignCenter%22%3A1%2C%22webPartInRte%22%3A1%7D%7D" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="inlineimage" data-instance-id="a4797faf-152d-4056-9ddd-534078f72362" title=""></div></div><p>And you should be in! See below screenshot for what it should look like. Configurations you make should be saved between sessions e.g., key bindings or appearance. Extensions can also be installed, but the selection is limited compared to the official VS Code IDE. See the <a href="https://code.visualstudio.com/docs/introvideos/basics" data-cke-saved-href="https://code.visualstudio.com/docs/introvideos/basics" data-interception="on" title="https://code.visualstudio.com/docs/introvideos/basics">Getting Started</a> section on the official VS Code website. Most of the instructions and shortcuts should apply to the On Demand Code Server too.</p><div tabindex="-1" data-cke-widget-wrapper="1" data-cke-filter="off" class="cke_widget_wrapper cke_widget_block cke_widget_inlineimage cke_widget_wrapper_webPartInRteInlineImage cke_widget_wrapper_webPartInRteClear cke_widget_wrapper_webPartInRteAlignCenter cke_widget_wrapper_webPartInRte" data-cke-display-name="div" data-cke-widget-id="4" role="region" aria-label="Inline image in RTE. Use Alt + F11 to go to toolbar. Use Alt + P to open the property pane."><div data-webpart-id="image" class="webPartInRte webPartInRteAlignCenter webPartInRteClear webPartInRteInlineImage cke_widget_element" data-cke-widget-data="%7B%22classes%22%3A%7B%22webPartInRteInlineImage%22%3A1%2C%22webPartInRteClear%22%3A1%2C%22webPartInRteAlignCenter%22%3A1%2C%22webPartInRte%22%3A1%7D%7D" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="inlineimage" data-instance-id="c72f9f97-c233-4a96-bfda-704b2439f0b1" title=""></div></div><p><br></p></div>
<h3>R on Code Server<br></h3><p>NOTE: On Demand has the option to <a href="/sites/rc2/SitePages/R-services.aspx#ondemand" data-cke-saved-href="https://wehieduau.sharepoint.com/sites/rc2/SitePages/R-services.aspx#ondemand" data-interception="on" title="https://wehieduau.sharepoint.com/sites/rc2/SitePages/R-services.aspx#ondemand">launch R Studio sessions</a>. <br></p><p>The main difference between using Code Server on Milton compared to VS Code on your PC, is the need to point Code Server to the R interpreter you wish to use. To do this, go into Settings, which can be accessed by the gear icon in the bottom left of the window. Then, click on "Settings" in the dropdown.<br></p><div tabindex="-1" data-cke-widget-wrapper="1" data-cke-filter="off" class="cke_widget_wrapper cke_widget_block cke_widget_inlineimage cke_widget_wrapper_webPartInRteInlineImage cke_widget_wrapper_webPartInRteClear cke_widget_wrapper_webPartInRteAlignCenter cke_widget_wrapper_webPartInRte" data-cke-display-name="div" data-cke-widget-id="1" role="region" aria-label="Inline image in RTE. Use Alt + F11 to go to toolbar. Use Alt + P to open the property pane."><div data-webpart-id="image" class="webPartInRte webPartInRteAlignCenter webPartInRteClear webPartInRteInlineImage cke_widget_element" data-cke-widget-data="%7B%22classes%22%3A%7B%22webPartInRteInlineImage%22%3A1%2C%22webPartInRteClear%22%3A1%2C%22webPartInRteAlignCenter%22%3A1%2C%22webPartInRte%22%3A1%7D%7D" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="inlineimage" data-instance-id="cc1cfbca-1a47-4d88-aaa4-bc79177a06b9" title=""></div></div><p>In the "Search Settings" bar, type in "Rpath: Linux". In the "R &gt; Rpath: Linux" field, enter the path to the R interpreter you wish to use. On Milton, the R modules are stored in "/stornext/System/data/apps/R". In the screenshot below, I choose the R interpreter from the R/openBLAS/4.2.1 module. <br></p><div tabindex="-1" data-cke-widget-wrapper="1" data-cke-filter="off" class="cke_widget_wrapper cke_widget_block cke_widget_inlineimage cke_widget_wrapper_webPartInRteInlineImage cke_widget_wrapper_webPartInRteClear cke_widget_wrapper_webPartInRteAlignCenter cke_widget_wrapper_webPartInRte" data-cke-display-name="div" data-cke-widget-id="2" role="region" aria-label="Inline image in RTE. Use Alt + F11 to go to toolbar. Use Alt + P to open the property pane."><div data-webpart-id="image" class="webPartInRte webPartInRteAlignCenter webPartInRteClear webPartInRteInlineImage cke_widget_element" data-cke-widget-data="%7B%22classes%22%3A%7B%22webPartInRteInlineImage%22%3A1%2C%22webPartInRteClear%22%3A1%2C%22webPartInRteAlignCenter%22%3A1%2C%22webPartInRte%22%3A1%7D%7D" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="inlineimage" data-instance-id="5fce43ba-e1a8-414a-88d4-f9fd0cc20199" title=""></div></div><p>Now search for "Rterm: Linux" and enter the same R path as you did previously.<br></p><div tabindex="-1" data-cke-widget-wrapper="1" data-cke-filter="off" class="cke_widget_wrapper cke_widget_block cke_widget_inlineimage cke_widget_wrapper_webPartInRteInlineImage cke_widget_wrapper_webPartInRteClear cke_widget_wrapper_webPartInRteAlignCenter cke_widget_wrapper_webPartInRte" data-cke-display-name="div" data-cke-widget-id="3" role="region" aria-label="Inline image in RTE. Use Alt + F11 to go to toolbar. Use Alt + P to open the property pane."><div data-webpart-id="image" class="webPartInRte webPartInRteAlignCenter webPartInRteClear webPartInRteInlineImage cke_widget_element" data-cke-widget-data="%7B%22classes%22%3A%7B%22webPartInRteInlineImage%22%3A1%2C%22webPartInRteClear%22%3A1%2C%22webPartInRteAlignCenter%22%3A1%2C%22webPartInRte%22%3A1%7D%7D" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="inlineimage" data-instance-id="b287c711-a067-4eb1-90be-56a9df5a0432" title=""></div></div><p>You should then be able to start running R code by pressing "Ctrl + Enter" in the R script, or you can create a terminal by pressing F1, and searching for "R: Create R Terminal").<br></p><p>In the R terminal, you may want to install some additional convenience packages like languageserver, radian, and httpgd. See the R guide on the <a href="https://code.visualstudio.com/docs/languages/r" data-cke-saved-href="https://code.visualstudio.com/docs/languages/r" data-interception="on" title="https://code.visualstudio.com/docs/languages/r">VS Code</a> website.<br></p>
<h3>Python on Code Server</h3><p>This works the same as VS Code on your PC, the instructions on the <a href="https://code.visualstudio.com/docs/python/python-tutorial" data-cke-saved-href="https://code.visualstudio.com/docs/python/python-tutorial" data-interception="on" title="https://code.visualstudio.com/docs/python/python-tutorial">VS Code web page</a> still apply, and the Python extension is available too!</p><h4>Using a Conda or Python Virtual Environment</h4><p>To get access to your environment's packages, you will need to use the "Python: Select Interpreter" command. You can access the command palette with the F1 key. You can then start typing "Python: Select Interpreter" and it should show up in the dropdown menu.</p><div tabindex="-1" data-cke-widget-wrapper="1" data-cke-filter="off" class="cke_widget_wrapper cke_widget_block cke_widget_inlineimage cke_widget_wrapper_webPartInRteInlineImage cke_widget_wrapper_webPartInRteClear cke_widget_wrapper_webPartInRteAlignCenter cke_widget_wrapper_webPartInRte" data-cke-display-name="div" data-cke-widget-id="1" role="region" aria-label="Inline image in RTE. Use Alt + F11 to go to toolbar. Use Alt + P to open the property pane."><div data-webpart-id="image" class="webPartInRte webPartInRteAlignCenter webPartInRteClear webPartInRteInlineImage cke_widget_element" data-cke-widget-data="%7B%22classes%22%3A%7B%22webPartInRteInlineImage%22%3A1%2C%22webPartInRteClear%22%3A1%2C%22webPartInRteAlignCenter%22%3A1%2C%22webPartInRte%22%3A1%7D%7D" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="inlineimage" data-instance-id="71bffba3-e788-4700-a238-c0d708534af5" title=""></div></div><p>You can then either select one of the Python interpreters that Code Server can detect, or you can enter the path to another one. After selecting the Python interpreter, you should then be able to run your code with your environment via "Run and Debug"!</p>
