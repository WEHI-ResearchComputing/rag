<h2><span class="fontColorThemeSecondary">WEHI file systems</span></h2><h3>&nbsp;</h3>
<h3>​​​​​​​<span class="fontColorBlue">Contents on this page:</span></h3><p>&nbsp;</p><ul><li><a href="/sites/rc2/SitePages/Data-how-to-store.aspx#milton-filesystems" data-interception="off" target="_blank" rel="noopener noreferrer">Milton Filesystems</a></li><li><a href="/sites/rc2/SitePages/Data-how-to-store.aspx#stornext-and-vast"><span class="fontColorThemeSecondary">Stornext and VAST</span></a></li><li><a href="/sites/rc2/SitePages/Data-how-to-store.aspx#lab-shares"><span class="fontColorThemeSecondary">Lab Shares</span></a></li><li><a href="/sites/rc2/SitePages/Data-how-to-store.aspx#comparison"><span class="fontColorThemePrimary">Comparison</span></a></li><li><a href="/sites/rc2/SitePages/Data-how-to-store.aspx#home-directory">Home directory</a></li><li><a href="/sites/rc2/SitePages/Data-how-to-store.aspx#where-to-store-data"><span class="fontColorThemeSecondary">Where to store data?</span>​​​​​​​​​​​​​​</a></li><li><a href="/sites/rc2/SitePages/Data-how-to-store.aspx#hpcscratch-decommission-plan"><span class="fontColorThemePrimary">HPCScratch Decommission Plan</span></a></li><li><a href="/sites/rc2/SitePages/Data-how-to-store.aspx#related-topics">Related topics</a></li></ul>
<h3><span class="fontColorThemeSecondary">Milton Filesystems</span></h3><p>To see current storage utilisation, go to <a href="http://dashboards.hpc.wehi.edu.au/" data-interception="off" target="_blank" rel="noopener noreferrer"><strong>filesystem dashboard</strong></a><strong>.</strong></p><p>Milton has different storage spaces where you can store your datasets, code, and other files. Depending on the source of data, backup requirement, and compliance requirement, you can choose where to store your data.</p><p>The TSM is a component on the controllers which assess the filesystem contents and perform data migration operations as defined in filesystem policies. These can include making secondary copies to other destinations and removing disk block usage from the primary disk (See&nbsp;<a href="/sites/rc2/SitePages/Truncation.aspx"><strong>truncation</strong></a>&nbsp;for details).</p>
<p><strong>Each user starts with access to the home directory only. To get access to an existing or new VAST project space or to get access to VAST Scratch, see&nbsp;</strong><a href="/sites/rc2/SitePages/high-performance-storage.aspx"><strong>High performant storage (VAST)</strong></a><strong>;&nbsp;and to request access to an existing lab share, or to create a new one, see details in lab share below.</strong></p>
<h3><span class="fontColorThemeSecondary">Stornext and VAST</span></h3>
<h3><span class="fontColorRed">Note! In </span><span class="fontColorRed sp-mseditorfix" data-mseditorfix="363d7011-83dd-4cc0-bdec-ea4af4df4dbb:Augest">August</span><span class="fontColorRed"> 2024, StorNext directories, except Home, will be made READ ONLY from jobs submitted through Slurm and OnDemand interactive sessions</span></h3><h3>See our &nbsp;<a href="/sites/rc2/SitePages/SLURM-Changes.aspx">Slurm Changes</a> page for more information</h3>
<h4>StorNext</h4><ul><li>For Archival and long-term storage</li><li>Backed up to tape routinely</li><li>Truncation and retrieval to/from tape available</li><li>Slow I/O, so not suited for any intensive read/write operations</li><li><span class="fontColorBlue"><strong>Only basic Linux permissions (no ACLs)</strong></span></li><li>After August 2024, not writable (only readable) through Slurm jobs and OnDemand interactive jobs.</li></ul>
<p>Storage spaces on StorNext</p><figure class="table canvasRteResponsiveTable" style="width:100%;" title="Table"><table class="ck-table-resized"><colgroup><col style="width:36.55%;"><col style="width:63.45%;"></colgroup><tbody><tr><td><span class="fontColorBlue"><strong>Home&nbsp;</strong></span><br><span class="fontColorBlue"><strong>(/stornext/Home/data/allstaff)</strong></span></td><td>all the user home areas</td></tr><tr><td><span class="fontColorBlue"><strong>Admin&nbsp;</strong></span><br><span class="fontColorBlue"><strong>(/stornext/Admin)</strong></span></td><td>data that is non-academic, e.g. finance, etc.</td></tr><tr><td><span class="fontColorBlue"><strong>Archive&nbsp;</strong></span><br><span class="fontColorBlue"><strong>(/stornext/Archive)</strong></span></td><td>for data that is kept forever and never modified; it is read-only</td></tr><tr><td><span class="fontColorBlue"><strong>Bioinf</strong></span><strong>&nbsp;</strong><br><span class="fontColorBlue"><strong>(/stornext/Bioinf)</strong></span></td><td>Bioinformatics data</td></tr><tr><td><span class="fontColorBlue"><strong>Genomics&nbsp;</strong></span><br><span class="fontColorBlue"><strong>(/stornext/Genomics)</strong></span></td><td>Genomics data</td></tr><tr><td><span class="fontColorBlue"><strong>ImageData&nbsp;</strong></span><br><span class="fontColorBlue"><strong>(/stornext/ImageData)</strong></span></td><td>data managed by Columbus (screening data) and Omero (imaging data)</td></tr><tr><td><span class="fontColorBlue"><strong>Img&nbsp;</strong></span><br><span class="fontColorBlue"><strong>(/stornext/Img)</strong></span></td><td>data originating from the Imaging Lab instruments as well as their derivatives</td></tr><tr><td><strong>SBPM&nbsp;</strong><br><strong>(/stornext/SBPM)</strong></td><td>System Biology Division data. The&nbsp;<strong>"/data"</strong>&nbsp;directory is the<strong> only area that is backed up</strong>.</td></tr><tr><td><span class="fontColorBlue"><strong>Sysbio&nbsp;</strong></span><br><span class="fontColorBlue"><strong>(/stornext/Sysbio)</strong></span></td><td>System Biology Projects; data for the mascot cluster and commercial software such as Pipeline Pilot and Accelrys​​​​​​​</td></tr><tr><td><span class="fontColorBlue"><strong>General</strong></span><br><span class="fontColorBlue"><strong>(/stornext/General)</strong></span></td><td>all other shared areas such as lab, division, project &amp; other shares. No <a href="/sites/rc2/SitePages/Truncation.aspx#autotruncation-%28at%29-policy">auto-truncation </a>is enabled, so it is the responsibility of the users to clean up space routinely through truncation.</td></tr><tr><td><span class="fontColorBlue"><strong>CryoEM_data&nbsp;</strong></span><br><span class="fontColorBlue"><strong>(/stornext/Projects/cryoEM/cryoEM_data)</strong></span></td><td>for cryo-EM data, has auto-truncation which is triggered when free space is less than 20 TB. It is a Write-once-read-more (WORM) space.</td></tr></tbody></table></figure><p>&nbsp;</p>
<h4>VAST</h4><ul><li>Fast I/O​</li><li>High performance storage​</li><li>Scratch​<ul><li>14-day no-access deletion policy​</li><li>No quotas​</li><li>Capacity 350 TB​</li></ul></li><li>Projects​<ul><li>Time and quota limited​</li><li>Capacity 150 TB​</li></ul></li><li><span class="fontColorBlue"><strong>Linux permissions and ACLs enabled</strong></span></li><li>Both readable and writable from Slurm jobs and OnDemand interactive jobs</li></ul>
<p>Storage spaces on VAST</p><figure class="table canvasRteResponsiveTable" style="width:558px;" title="Table"><table class="ck-table-resized"><colgroup><col style="width:42.86%;"><col style="width:57.14%;"></colgroup><tbody><tr><td><strong>VAST Scratch (/vast/scratch/users)</strong></td><td><a href="/sites/rc2/SitePages/high-performance-storage.aspx">High-performant storage</a>, with a 14-day no-access deletion policy, can be requested. It&nbsp;is<strong>&nbsp;not backed&nbsp;up.</strong></td></tr><tr><td><strong>VAST Project (/vast/projects/)</strong></td><td><a href="/sites/rc2/SitePages/high-performance-storage.aspx">High-performant storage</a>, with a quota and time limits, can be requested through a helpdesk ticket. It&nbsp;is<strong>&nbsp;not backed&nbsp;up</strong></td></tr></tbody></table></figure>
<h4><span class="fontColorThemePrimary">Common uses for VAST Scratch</span>​​​​​​​</h4><ul><li><a href="/sites/RCPNewsletter/SitePages/June-2021-Issue.aspx#roadblocks"><strong>Redirect TMP directory​</strong></a></li></ul><pre>export TMPDIR=/vast/scratch/users/$USER/tmp​</pre><ul><li><a href="/sites/RCPNewsletter/SitePages/July-2021-Issue.aspx#roadblocks" data-interception="off" target="_blank" rel="noopener noreferrer"><strong>Redirect R sessions​</strong></a></li></ul><pre>mkdir /vast/scratch/users/$USER/rstudio-sessions ​\ncd ~/.local/share/rstudio ​\nrm -rf sessions ​\nln -s /vast/scratch/users/$USER/rstudio-sessions sessions​</pre><ul><li><a href="/sites/RCPNewsletter/SitePages/January-2022-Issue.aspx#roadblocks" data-interception="off" target="_blank" rel="noopener noreferrer"><strong>Redirect R&nbsp;tmp​</strong></a><ul><li>In ~/.Renviron​</li></ul></li></ul><pre>TMPDIR=/vast/scratch/users /$USER /Rtmp​</pre><p><strong>**Note: Make sure the directory exists.</strong></p>
<h3><span class="fontColorThemeSecondary">Lab Shares</span></h3><p>All new labs can request a lab share of 1TB (extendible to 5TB, justification must be provided)&nbsp;on the General filesystem through <a href="https://wehi.edu.au">a helpdesk ticket</a>. This filesystem is managed as it is <strong>backed up daily</strong>. <strong>No auto-truncation</strong> is enabled. And&nbsp;routine clean-up and truncation is the user's responsibility and ensuring&nbsp;the allocated space stays within limits.</p><p>Each new lab member can request to be added to the space through <a href="https://wehi.edu.au" data-interception="off" target="_blank" rel="noopener noreferrer">a helpdesk ticket</a>.</p><p>ITS&nbsp;RS requires that data older than 6 months be archived to tape&nbsp;to avoid filling up the storage space.</p><p>Sizes beyond this require funding and may take time to provision. If your lab is part of <strong>Bioinformatics</strong>, <strong>Cryo-EM</strong>&nbsp;or <strong>Imaging</strong>&nbsp;other filesystems&nbsp;are&nbsp;available with no quotas. But, <a href="/sites/rc2/SitePages/Truncation.aspx" data-interception="off" target="_blank" rel="noopener noreferrer">auto-truncation</a> is enabled on these filesystems. ​​​​​​​</p><p><span class="fontColorRed"><strong><sup>**</sup></strong></span><strong>It is recommended to store large directories as tar files, preferable compressed.</strong>​​​​​​​</p><p>&nbsp;</p><figure class="table canvasRteResponsiveTable" style="width:1112px;" title="Table"><table class="filledHeaderTableStyleTheme ck-table-resized"><colgroup><col style="width:55.04%;"><col style="width:44.96%;"></colgroup><tbody><tr><td>This space should be used for</td><td>This space should&nbsp;<span class="fontColorRedDark"><strong>NOT</strong></span>&nbsp;be used for</td></tr><tr><td>Collected raw data​ that needs back up and long-term storage​​​​​​​</td><td>Publicly available and re-downloadable data</td></tr><tr><td>Files required for reproducibility and recomputability</td><td>Data with hard delete constraint, as data on tape can never be hard-deleted</td></tr><tr><td>Results and intermediate files</td><td>Temporary or intermediate files that are only required will processing data</td></tr><tr><td>&nbsp;</td><td>Virtual environments&nbsp;or library packages</td></tr></tbody></table></figure><p>&nbsp;</p>
<h3><span class="fontColorThemePrimary">Comparison</span><br>&nbsp;</h3><figure class="table canvasRteResponsiveTable" style="width:1139px;" title="Table"><table class="bandedRowTableStyleNeutral ck-table-resized"><colgroup><col style="width:15.91%;"><col style="width:17.78%;"><col style="width:25.87%;"><col style="width:40.44%;"></colgroup><tbody><tr><td>&nbsp;</td><td>Lab share</td><td>VAST Scratch</td><td>VAST Projects</td></tr><tr><td>Backups</td><td>Yes, daily</td><td>x</td><td>x</td></tr><tr><td>Time Constraint</td><td><p>x</p><p>&nbsp;</p></td><td>x</td><td>6-month for automatic approval and can be extended with scientific justifications</td></tr><tr><td>Quotas</td><td>max 5TB</td><td>x</td><td>up to 10 TB for automatic approval and can be increased with&nbsp;scientific justifications</td></tr><tr><td>Auto deletion</td><td>x</td><td>14-day no-access auto-deletion policy</td><td>x</td></tr></tbody></table></figure>
<h3><span class="fontColorThemeSecondary">Home Directory</span></h3><p>Every Institute user has a private Home area on the Home filesystem. The is the filesystem area you see when you log in to&nbsp;<span class="fontColorBlue">slurm-login</span>&nbsp;or&nbsp;<span class="fontColorBlue">vc7-shared</span>.</p><p>Home is intended for <strong>software configuration files</strong>, <strong>setup files</strong>, and <strong>incidental personal use</strong> (in accordance with the Institute's <a href="https://policies.wehi.edu.au/Documents/Details/Index?id=4&amp;versionId=4">ITS Acceptable Use Policy</a>​).</p><p>Home directory is where you are directed after ssh-ing into Milton, whether through vc7-shared or slurm-login. This path is saved in your $HOME environment variable</p><pre><strong>$ echo $HOME\n</strong>/home/users/allstaff/&lt;userid&gt;\n\n</pre><p><span class="fontColorBlue"><strong>$HOME</strong></span> is&nbsp;available on every node and interactive virtual machine. This area has a default quota of 20GB, which can be&nbsp;truncated/retrieved to/from tape.</p><figure class="table canvasRteResponsiveTable" style="width:1112px;" title="Table"><table class="filledHeaderTableStyleTheme ck-table-resized"><colgroup><col style="width:55.04%;"><col style="width:44.96%;"></colgroup><tbody><tr><td>This space should be used for</td><td>This space should&nbsp;<span class="fontColorRedDark"><strong>NOT</strong></span>&nbsp;be used for</td></tr><tr><td>software configuration files&nbsp;and&nbsp;setup files.</td><td>Any research data</td></tr><tr><td>small commonly used scripts</td><td>Run SLURM jobs</td></tr><tr><td>commonly used virtual environments and libraries</td><td>&nbsp;</td></tr></tbody></table></figure>
<h3><span class="fontColorThemeSecondary">Where to store data?</span></h3><p>During the lifetime of a project, input data and generated (or processed data) may move between storage types. To make use of performance enhancement like using VAST or for backup and truncation. Below is two use cases that show how files can be moved and to where.</p>
<p><span class="fontColorBlueLight"><strong>​​​​​​​</strong></span><strong>If you require assistance with modifying workflows to redirect your Milton data away from Home and onto a division, lab, or project share, please contact </strong><a href="mailto:research.computing@wehi.edu.au"><strong>research.computing@wehi.edu.au</strong></a><strong>.</strong></p>
<h3><span class="fontColorThemeSecondary">Related topics</span></h3><ul><li><a href="/sites/rc2/SitePages/high-performance-storage.aspx">High performant storage (VAST)</a></li><li><a href="/sites/rc2/SitePages/Truncation.aspx">Truncation</a></li><li><a href="/sites/rc2/SitePages/Disk-quotas.aspx">Quotas</a></li></ul>
