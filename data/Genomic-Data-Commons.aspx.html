<h2>Downloading from Genomic Data Commons</h2><p><a data-cke-saved-href="https://portal.gdc.cancer.gov/" href="https://portal.gdc.cancer.gov/" target="_blank" title="https://portal.gdc.cancer.gov/" data-interception="off">Genomic Data Commons</a> (GDC) provide access to TCGA and other genomic data. The API for accessing data is (relatively) simple and well documented. It is a standard REST API that can be used from most popular programming languages. For example, REST calls can be made in Python using the <a data-cke-saved-href="https://pypi.org/project/requests/" href="https://pypi.org/project/requests/" target="_blank" title="https://pypi.org/project/requests/" data-interception="off">requests</a> library.</p><p>Research Computing have created a template Python project for programmatic downloading GDC of data. It provides a number of helper classes for handling queries and downloading files as well as integrating with the WEHI batch system. Check out <a href="https://github.com/WEHI-ResearchComputing/wehi-gdc" data-cke-saved-href="https://github.com/WEHI-ResearchComputing/wehi-gdc" target="_blank" data-interception="off" title="https://github.com/WEHI-ResearchComputing/wehi-gdc">the wehi-gdc page</a> in WEHI's GitHub library.</p><p>GDC organise their data based on a project, which is typically a cancer type. Each project has cases, i.e. patients, and each case may have a number of tumour and normal samples.</p><p>The template project is designed to be included as a git submodule within your workflow. You should fork the repo and modify to suit your use case. At the very least, you will need to modify paths for your data.</p><p>The template works as follows:<br><br></p><ul><li>Start the process by running <span class="fontColorRed"><span class="highlightColorGrey">slurm-run.sh &lt;cancer type&gt;</span></span></li><li>Look at the scripts and modify as needed.</li><li>This runs the <span class="fontColorRed"><span class="highlightColorGrey">batch_download.py</span></span> script in the batch and:<ul><li>Queries GDC for all cases of that cancer type.</li><li>The query is slow (up to half an hour) so the query result is cached.</li><li>Runs a batch job per case to download the case files (WXS BAMs by default). A user-specified number of jobs will be submitted at time to limit the overall amount of work in the batch system at any point in time. Having 100 concurrent downloads active at a time is not unreasonable.</li><li>Runs a script in the parent directory to process the case files. Because the download project is intended to be a submodule of your workflow, this will be a script provided by you. This script runs in the batch job that did the download.</li><li>You are encouraged to submit further work to the batch system, for example by using a workflow manager.</li></ul></li></ul>
