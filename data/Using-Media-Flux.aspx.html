<h2><span class="fontColorThemeSecondary">Transfer data using Media Flux</span></h2><p><a data-cke-saved-href="https://mediaflux-test.researchsoftware.unimelb.edu.au/mflux/data/mover/index.html?token=YXJjaW86aHR0cHMsbWVkaWFmbHV4LXRlc3QucmVzZWFyY2hzb2Z0d2FyZS51bmltZWxiLmVkdS5hdSw0NDMsNjgsMzMxOTEzNDEwMjpBZ0FRK3pGc1ZaRjZTL3o1V2FuYkhHZ2E5MWZFMTRQN1VjSHNjbFdtdTNVODZ2dWFKR2hxTE9nVU1zenNZV3lyYWZlMw==" href="https://mediaflux-test.researchsoftware.unimelb.edu.au/mflux/data/mover/index.html?token=YXJjaW86aHR0cHMsbWVkaWFmbHV4LXRlc3QucmVzZWFyY2hzb2Z0d2FyZS51bmltZWxiLmVkdS5hdSw0NDMsNjgsMzMxOTEzNDEwMjpBZ0FRK3pGc1ZaRjZTL3o1V2FuYkhHZ2E5MWZFMTRQN1VjSHNjbFdtdTNVODZ2dWFKR2hxTE9nVU1zenNZV3lyYWZlMw==" target="_blank" title="https://mediaflux-test.researchsoftware.unimelb.edu.au/mflux/data/mover/index.html?token=YXJjaW86aHR0cHMsbWVkaWFmbHV4LXRlc3QucmVzZWFyY2hzb2Z0d2FyZS51bmltZWxiLmVkdS5hdSw0NDMsNjgsMzMxOTEzNDEwMjpBZ0FRK3pGc1ZaRjZTL3o1V2FuYkhHZ2E5MWZFMTRQN1VjSHNjbFdtdTNVODZ2dWFKR2hxTE9nVU1zenNZV3lyYWZlMw==" data-interception="off">MEDIAFLUXÂ® DATA MOVER</a> is a tool provided by <a data-cke-saved-href="https://www.arcitecta.com/mediaflux/about/" href="https://www.arcitecta.com/mediaflux/about/" target="_blank" title="https://www.arcitecta.com/mediaflux/about/" data-interception="off">Mediaflux</a> and is used to move data to and from Mediaflux.</p><p>This page describes how to use the Data Mover command line interface (CLI) to download data from an external collaborator to WEHI local storage.</p><blockquote><p><span class="fontColorRed">NB:</span> <span class="fontColorBlue">You need to have a valid token that is provided by the external collaborator to initiate the download.</span></p></blockquote><p><strong>To use data mover</strong>, first load the <span class="fontSizeMediumPlus"><span class="highlightColorGrey"><span class="fontColorRed">mediaflux-data-mover</span></span></span></p><pre>module load mediaflux-data-mover\n</pre><p><br><strong>To start the download</strong></p><pre>mediaflux-data-mover -download &lt;token&gt; &lt;data path&gt;\n</pre><p><span class="fontSizeMediumPlus"><span class="fontColorRed"><span class="highlightColorGrey">&lt;token&gt;</span></span> </span>should be substituted with the token provided by your external collaborator.<br><span class="fontSizeMediumPlus"><span class="fontColorRed"><span class="highlightColorGrey">&lt;data path&gt;</span></span></span> is the path to the directory where you want to download the data. An example is shown below:</p><pre>mediaflux-data-mover -download WEESEDRTVXA123444DDFGHH3578FGH98 /stornext/ImageData/test/\n</pre><p><br>You can also add the following options:</p><ul><li><span class="fontColorRed"><span class="highlightColorGrey">-info&nbsp;</span></span> print out information about the shareable you are working with.</li><li><span class="fontColorRed"><span class="highlightColorGrey">-mkdir</span></span> if doing a download, and the parent directory does not exist, create it.</li><li><span class="fontColorRed"><span class="highlightColorGrey">-v</span></span> display additional information (verbose) as the transfer proceeds.</li></ul><p><br>For example, the next command utilises <span class="fontColorRed"><span class="highlightColorGrey">-mkdir</span></span> to create the <span class="fontColorThemeSecondary"><em>test</em></span> parent directory:</p><pre>mediaflux-data-mover -mkdir -download WEESEDRTVXA123444DDFGHH3578FGH98 /stornext/ImageData/test/\n</pre><blockquote><p><span class="fontColorRed">Note: </span><span class="fontColorBlue">Make sure that your destination directory does not have a<br>Write-Once-Read-Multiple (WORM) policy</span></p></blockquote><p><span class="fontColorBlue"><strong>To mark your directory for truncation</strong></span>, you can run the following commands:</p><pre>cd &lt;path/to/the/directory/tobetruncated&gt;\nmodule load rc-tools\ntruncatethis\n\n</pre><p>To download data directly to a directory with write-once WORM Policy, we have prepared a script to use directly. The script will download your data to a temp directory in your personal VAST scratch area from MediaFlux then move the data to your archival directory.</p><p><span class="fontColorRed"><strong>Note:</strong></span> Make sure that you have a personal area on the VAST scratch space. If you don't have one already, please contact <a data-cke-saved-href="mailto:research.computing@wehi.edu.au" href="mailto:research.computing@wehi.edu.au">Research Computing</a>. Read&nbsp;our page to learn more about&nbsp;<a href="/sites/rc2/SitePages/high-performance-storage.aspx" data-cke-saved-href="https://wehieduau.sharepoint.com/sites/rc2/SitePages/high-performance-storage.aspx" data-interception="on" title="https://wehieduau.sharepoint.com/sites/rc2/SitePages/high-performance-storage.aspx">performant storage</a>.</p>
