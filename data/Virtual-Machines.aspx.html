<h2><span class="fontColorRedDark">This page is outdated. Please direct your inquiries to helpdesk (</span><a href="mailto:support@wehi.edu.au" data-interception="off" target="_blank" rel="noopener noreferrer"><span class="fontColorRedDark">support@wehi.edu.au</span></a><span class="fontColorRedDark">)</span></h2>
<h4><span class="fontColorThemeSecondary">How VMs are provisioned and supported on Milton is currently being reviewed, so the service is subject to change.</span></h4>
<h3>What are VMs?</h3><p>Virtual Machines (VMs) are isolated operating systems that run on a "host" computer and is allocated some of its compute resources (CPUs, RAM, storage, and sometimes GPUs). A useful feature of VMs is that multiple VMs on a host are isolated from each other so that they can do work without affecting each other. They are often used in research to stage and distribute data, to host public applications, or as a way to ensure exclusive access to HPC resources.</p><p>At WEHI, researchers can request a VM on RAP with a lifespan of up to 7 days with up to 4 CPUs, and 16GB or RAM. Right now, CentOS 7, or CentOS 7 with GlobalPhasing structural biology software are the types of VMs available. However, this is subject to change in the future.</p><p>Self-managed VMs (i.e. VMs which allow you to have "sudo" priveledges) can be requested for some use cases. To request one, please contact the <a href="mailto:research.computing@wehi.edu.au"><strong>Research Computing</strong></a> team. See also further details about self-managed VMs <a href="/sites/rc2/SitePages/elevated-privileges.aspx">here</a>.</p>
<h3>Requesting a VM via RAP</h3><p>1. Log onto RAP with your WEHI credentials</p><p>2. Click on Milton and login with your WEHI username and password.</p>
<p>3. Request the type of VM you would like to deploy</p><div class="imagePlugin" style="background-color:transparent;position:relative;" data-alignment="Center" data-imageurl="https://wehieduau.sharepoint.com/sites/rc2/SiteAssets/SitePages/Virtual-Machines/4176781431.png" data-isdecorative="false" data-imagenaturalheight="510" data-imagenaturalwidth="948" data-siteid="93ee3842-f21b-4d8d-b85b-874e64c67802" data-webid="95711e2c-a16f-49a8-9adc-1b9756d4ee5e" data-listid="3d75202a-c480-42f5-abb7-5e7b39fc27d5" data-uniqueid="3f87b7f5-57de-4526-b589-f6f0d63d6814" data-height="392" data-width="728"></div><p>&nbsp;</p>
<p>4. Under the "Deployment" tab, select your hardware and time requirements. Then, under the "General" tab, read and agree to the access information and then click "Submit". This will begin the provisioning of the requested VM. You will receive two emails: one with details of the VM, and another notifying that the provisioning is complete.</p><div class="imagePlugin" style="background-color:transparent;position:relative;" data-alignment="Center" data-imageurl="https://wehieduau.sharepoint.com/sites/rc2/SiteAssets/SitePages/Virtual-Machines/4220435788.png" data-isdecorative="false" data-imagenaturalheight="765" data-imagenaturalwidth="948" data-siteid="93ee3842-f21b-4d8d-b85b-874e64c67802" data-webid="95711e2c-a16f-49a8-9adc-1b9756d4ee5e" data-listid="3d75202a-c480-42f5-abb7-5e7b39fc27d5" data-uniqueid="dfde487e-1dce-4f2e-8c6a-1524312f8ac6" data-height="529" data-width="656"></div><p>&nbsp;</p>
<p>5. Go back to RAP dashboard and select RDP-SSH and you should see the VM as an option to ssh to. For more details on this, and instructions on how to use VNC, see <a href="/sites/rc2/SitePages/RAP-guacamole.aspx">further instructions</a>. Alternatively, if you're on the WEHI network/VPN, you can ssh to the VM using the hostname (e.g. vc7-986).</p>
<h2><span class="fontColorThemeSecondary">Admin rights on Milton</span></h2><p>Due to security restrictions, standard Milton machines (including the batch system, and shared machines such as vc7-shared) do not allow for root/admin access by users.</p><p>For use cases requiring root privileges, users must provision a specialised 'self-managed' interactive machine.</p><h3><span class="fontColorThemeSecondary">About self-managed machines</span></h3><p>Self-managed machines, by default, only provide root access for the owner of the machine (ie the user who requested it). If desired, users can then use their root privileges to add other users to the sudoers file.</p><h3>Requesting a VM with root access</h3><ol><li>Please contact the&nbsp;<a href="mailto:research.computing@wehi.edu.au"><strong>Research Computing</strong></a>&nbsp;team to discuss obtaining a self-managed VM.</li><li>Once added to the access list, you can request a self-managed machine through vRA - just like a standard interactive machine as discussed above.</li><li>Once built, the machine can be accessed at&nbsp;<i>&lt;machinename&gt;.nsx.wehi.edu.au</i></li></ol><h3>Filesystems on self-managed machines</h3><p>Self-managed machines do not have direct access to our central filesystems but filesystems can be Samba mounted using:</p><pre>mount -t cifs //&lt;server&gt;/&lt;share&gt; &lt;mountpoint&gt; -o user=&lt;username&gt;\n</pre><p>For example, to mount your home directory:</p><pre>sudo mount -t cifs //nas.wehi.edu.au/&lt;user_id&gt; /mnt/home -o user=&lt;user_id&gt;\n</pre><h3><br>Host names</h3><p>Self-managed machines are on the .nsx network rather than .hpc, therefore the hostname will be something like&nbsp;<i>smvc7-020.nsx.wehi.edu.au</i>.</p><h3>Adding network ports to the whitelist</h3><p>If you need additional ports opened, please send a <a href="mailto:suppot@wehi.edu.au"><strong>HelpDesk ticket</strong></a>.</p>
