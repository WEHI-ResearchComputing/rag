<h2><span class="fontColorThemeSecondary">Using Globus</span></h2><p><a href="https://www.globus.org/">Globus</a> is a data management and transfer platform that facilitates efficient and secure data movement between subscribing organizations, functioning as 'endpoints' in a global network. The platform offers a user-friendly web interface that simplifies the process of brokering data transfers, allowing users to initiate truly ‘fire-and-forget’ transfers and manage them with ease. Importantly, transfers occur directly to/from internal storage – <strong>there is no third-party or intermediate storage location involved</strong>.&nbsp;</p>
<p>WEHI has implemented Globus as part of an <span class="fontColorBlue">AARNET Initiative</span> to promote and expand the use of Globus within the Australian Research sector. As Globus is most efficient at moving data between two subscribing organisations, there is a benefit in having many Australian organisations on board.</p><p>Although small files may be downloaded directly from the web interface, it is recommended that Globus be installed at both ends of a transfer. In situations where the other organisation does not have a centrally managed Globus endpoint, individual users may be able to install ‘Globus Connect Personal’, but this will depend on organisational policies and firewall configurations beyond WEHI’s control.</p>
<h3><span class="fontColorThemeSecondary">Globus concepts</span></h3><h4><span class="fontColorBlue">Endpoint</span></h4><p>The <a href="https://docs.globus.org/faq/globus-connect-endpoints/#what_is_an_endpoint"><strong>Globus meaning of endpoint</strong></a><strong> </strong>is a location where data comes from or goes to. Globus endpoints can be <i>personal</i> and only the owner can access them. Typically, you will create a personal endpoint to receive data. In addition, collaborators (external data providers)&nbsp;should give you&nbsp;their endpoint id.</p><h4><span class="fontColorBlue">Globus Connect</span></h4><p><a href="https://docs.globus.org/faq/globus-connect-endpoints/#what_is_globus_connect"><strong>Globus Connect</strong></a> is the software that turns your laptop or cluster into an endpoint. Globus Connect comes in two types:<br>&nbsp;</p><ul><li><strong>personal:</strong> which can be set up by non-admin users on their laptops or any Milton interactive node, such as vc7-shared.</li><li><strong>server:</strong> which runs as a system service. WEHI currently has a licensed server endpoint.</li></ul><h4><span class="fontColorBlue">Globus user interfaces</span></h4><p>To download data, you will probably need to authenticate and then initiate the data transfer. These can be done through a web browser or using the <a href="/sites/rc2/SitePages/Globus.aspx#accessing-globus-for-command-line-interface-%28cli%29"><strong>Globus Command Line Client.</strong></a></p><h4><span class="fontColorBlue">Authentication</span></h4><p>Restricted data will require you to authenticate, i.e. login. Globus uses Open Authentication or OAuth, which includes&nbsp;<a href="https://aaf.edu.au/">Australian Access Federation</a> and <a href="https://orcid.org/">Open Researcher ID</a> amongst others.</p>
<h2><span class="fontColorThemeSecondary">Choosing how to use Globus</span></h2><p>This diagram explains how to choose the right way to use Globus at WEHI. <strong>Please follow all steps in the diagram before planning your transfer, to ensure your use case is supported. </strong>The documentation further down the page goes into more detail about each option, but you can also click the links within the diagram (Ctrl + Click or Cmd + Click on MacOS) to bring you directly to the relevant section.&nbsp;</p>
<h2><span class="fontColorThemePrimary">Using Globus Personal Endpoint</span></h2><p>To install on Milton follow the steps in <a href="https://docs.globus.org/how-to/globus-connect-personal-linux/"><strong>this link</strong></a>. You can also install it on your <a href="https://docs.globus.org/how-to/globus-connect-personal-mac/"><strong>Mac</strong></a> or <a href="https://docs.globus.org/how-to/globus-connect-personal-windows/"><strong>Windows</strong></a> laptop.</p>
<h2><span class="fontColorThemeSecondary">Using Globus WEHI Endpoint</span></h2><p>WEHI’s existing implementation <strong>is limited to VAST areas</strong>, as these support fast read/write of data and avoid the risk of large datasets overwhelming the tape system. Globus access to VAST scratch areas is <strong>available</strong> <strong>by default</strong>, and access to VAST Projects is <strong>available on request</strong>.</p><p>WEHI’s current configuration also limits access to WEHI endpoints to users with a WEHI account.</p><h3><span class="fontColorThemeSecondary">When to use Globus WEHI Endpoint ?</span></h3><ol><li>Data movement to/from other organisations, where a WEHI researcher has an active account at either end.</li><li>Syncing data from WEHI instrument machines to central storage, where network limitations prevent direct access</li><li>Data movement between laptops and/or desktops and central storage, particularly where large datasets may require pausing/resuming transfers</li></ol><h3><span class="fontColorThemeSecondary">How to start using Globus WEHI Endpoint ?</span></h3><ul><li>Log into the Globus web interface (<a href="https://app.globus.org"><strong>app.globus.org</strong></a>) with your WEHI credentials.</li><li>Go to the ‘file manager’ tab, and search for any of the below ‘collections’ – it’ll be a bit slow, particularly the first time. Browse the collection, choose files and choose action (download, upload,.... etc.). <span class="fontColorBlue"><strong>Permissions will mirror the Milton filesystem</strong></span><strong>.</strong><ul><li><span class="fontColorBlue">WEHI_Scratch</span></li><li><span class="fontColorBlue">WEHI_Projects&nbsp;</span></li></ul></li><li>To test moving data around, you can also use the <span class="fontColorBlue">‘Globus Tutorial Endpoint 1’</span></li></ul>
<p><strong>If you need to make your VAST project accessible in Globus, please send a </strong><a href="mailto:support@wehi.edu.au"><strong>helpdesk ticket</strong></a><strong>.</strong></p>
<h2><span class="fontColorThemeSecondary">Guest Sharing</span></h2><p><span class="fontColorThemeSecondary">External collaborators here refer to users without a WEHI organisational account</span></p><p>​​​​​​​Globus&nbsp;has a feature called <span class="fontColorBlue">‘guest sharing’</span> that allows users without an organisational account to access that organisation’s storage. If enabled on other organisations’ filesystems, it means that they can allow the WEHI user to access their storage and depending on whether they allow read/write or both, this does allow bi-directional movement of data. ​​​​​​​</p><p>Recently (November 2023), the IT Governance Committee (ITGC) approved opening <span class="fontColorBlue">‘guest sharing’</span> for read-only. This means that external collaborators can read only WEHI data, but cannot write to our storage. WEHI's current implementation allows <span class="fontColorBlue">‘guest sharing’&nbsp;</span> with only external recipients, who have an active account in a domain approved by ITS Security Team (e.g. wehi.edu.au). Users may request the addition of specific domains as described in <a href="/sites/rc2/SitePages/Globus.aspx#how-to-add-a-new-domain-to-the-list-of-approved-domaind-approved"><strong>this section</strong></a>.</p><h3><span class="fontColorThemeSecondary">What should I do before sharing data externally?</span></h3><p>Before sharing data with external entities the following should be ensured.</p><ol><li><strong>Ensure Data Compliance.</strong> Before sharing any data, make sure you have the necessary approvals and ensure the data you're sharing complies with any legal or organisational requirements.&nbsp;</li><li><strong>Discuss and seek approval from your supervisor and any other relevant authorities.</strong></li><li><strong>Verify Recipients:</strong> Before proceeding, ensure that the recipient is a legitimate person. Communicate with them via official channels (i.e. organisational email addresses), and ensure these details match any listed on agreements etc.</li><li><strong>Ask whether the recipient can receive data via Globus:</strong> Make sure that the recipient’s organisation allows data ingestion via Globus – this may be via an admin-managed server endpoint (like WEHI’s), or via a Globus Connect Personal endpoint set up by the recipient themselves. There are cases where organisational policies or firewalls prevent the use of Globus altogether – in these instances, alternative transfer mechanisms must be found.</li><li><strong>Ensure Recipient's Globus Account: </strong>Ensure that the recipient has a Globus account. If they don't, instruct them to create one. Having an account will mean their information is populated in Globus when you share data, and provide additional information to verify that you’re sharing with the right person<strong>.</strong></li><li><strong>Check Domain Approval</strong>: Verify whether the recipient's domain is on <a href="/sites/rc2/SitePages/Globus.aspx#list-of-approved-domains"><strong>WEHI’s approved list</strong></a> for data sharing. If their domain is not on the approved list, <a href="/sites/rc2/SitePages/Globus.aspx#how-to-add-a-new-domain-to-the-list-of-approved-domaind-approved"><strong>go to this section</strong></a>.</li><li><strong>Request addition to globus_sharing Group</strong>: If you haven't been added to the globus_sharing group, request access by submitting a helpdesk ticket.&nbsp;</li></ol>
<h3><span class="fontColorThemeSecondary">List of Approved Domains</span></h3>
<h3><span class="fontColorThemeSecondary">How to add a new domain to the list of approved domains &nbsp;?&nbsp;</span></h3><p>If your collaborator institute/organisation domain is not in the above list. You can add it by submitting a helpdesk ticket titled “Add domain to Glovbus approved domains” with a brief justification. Approval from the relevant manager or lab head should be sought before the domain can be approved.</p>
<h3><span class="fontColorThemeSecondary">How do we share data externally for read-only ?</span></h3><ul><li><p><strong>Copy Data to Your Scratch Area</strong>: Copy the data you intend to share to your scratch area. You can use methods like <a href="/sites/rc2/SitePages/high-performance-storage.aspx#copying-data" data-interception="off" target="_blank" rel="noopener noreferrer"><strong>rsync</strong></a> or</p><p>other internal procedures to move the data.</p></li><li><strong>Log into the Globus web interface (</strong><a href="https://app.globus.org"><strong>app.globus.org</strong></a><strong>):</strong> Select WEHI from the drop-down list, and log into the Globus web app using your WEHI login. Be prepared to use two-factor authentication by the usual WEHI login method.</li></ul>
<ul><li><strong>Navigate to WEHI_Scratch in File Manager:</strong> Within the Globus web app, select the File Manager Tab, and search for the WEHI_Scratch collection. You may need to authenticate again, or grant permissions for Globus to access this area.</li></ul>
<ul><li><strong>Select Data for Sharing:</strong> Navigate to the specific folder or files you want to share, making sure to select only the data that needs to be shared. <span class="fontColorRedDark"><strong><u>Do not</u> share the root of your entire scratch area.</strong></span></li><li><strong>Create guest collection: </strong>With the folder you’d like to share selected, click the ‘Share’ button in the Globus interface. This will take you to a new page, where you can select the ‘Add Guest Collection’ button. On the ‘Create new Guest Collection’ page, fill out the details – ensure that the Directory is correctly selected (as just the folder you’d like to share), and provide a Name and brief description for the folder. Consider ticking ‘require encryption on transfers to and from this area’, depending on the sensitivity of the data. Click ‘Create Collection’ when complete.</li></ul>
<ul><li><p><strong>Share with Recipient:</strong> Share the guest collection with the intended recipient, using the <span class="fontColorBlue">‘Add Permissions – Share With’</span> button. Double-check that the path is correct (the default is the root of the guest collection). Be sure to share it only with specific individuals. <span class="fontColorRedDark"><strong>Do not use the 'all users' feature</strong></span>.&nbsp;</p><p><strong><u>Note that</u></strong> there is a tick box to ‘allow write access’ in the sharing form – this box will not function correctly, as WEHI does not allow write access (the recipient will receive a ‘permission denied’ error if they try to write, even if this box is ticked).</p></li></ul>
<ul><li><strong>Monitor Transfer and Communicate</strong>: Keep an eye on the data transfer and communicate with the recipient to ensure that the process goes smoothly. Address any issues promptly to maintain a secure and efficient sharing process.</li><li><strong>Delete Guest Collection After Download:</strong> Once the recipient has successfully downloaded the data, delete the guest collection (Select the collection under the ‘Collections’ tab -&gt; ‘Administered by You’, then click ‘Delete Collection’) to ensure data security and compliance.</li></ul>
<ul><li><strong>Request Removal from globus_sharing Group:</strong> If you no longer need to share data frequently, request to be removed from the <span class="fontColorBlue">‘globus_sharing’</span> group. This ensures that you maintain access only when necessary and <strong>minimizes potential security risks</strong>.&nbsp;</li></ul>
<h3><span class="fontColorThemeSecondary">Accessing Globus for command line interface (CLI)</span></h3><p>You can also access Globus through CLI, visit<a href="https://docs.globus.org/cli/"><span class="fontColorThemeSecondary"><strong>&nbsp;https://docs.globus.org/cli/</strong></span></a><span class="fontColorThemeSecondary"><strong>&nbsp;</strong></span>to help you install the CLI tool and use it.</p><p>To authenticate when using the command line, you will need to copy the URL given, as shown below and use it in your browser to sign in using your WEHI credentials and follow the instructions.</p>
<h3><span class="fontColorThemeSecondary">Accessing Globus programmatically</span></h3><p>Manual workflows make it challenging to control the rate at which data is delivered, and trigger computation as data arrives. Globus has <a href="https://github.com/globus"><strong>extensive APIs</strong></a> to download and also automate transfers, which are mostly written in python.</p><p aria-hidden="true">&nbsp;</p>
