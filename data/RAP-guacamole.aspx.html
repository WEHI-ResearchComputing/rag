<h2><span class="fontColorThemeSecondary">Remote access portal</span></h2>
<h3><span class="fontColorThemePrimary">RAP</span></h3><p>RAP is a web application that enables users to gain access to internal services from outside WEHI.</p><p>The services available in RAP include:</p><ul><li>File-servers</li><li>Account Management</li><li>RDP - SSH (Guacamole)</li><li>RStudio Workbench Server</li><li>Open OnDemand</li><li>Dotmatics</li><li>Colombus</li><li>FreezerPro</li><li>Confluence</li><li>Cryospa</li></ul>
<div><p>1.&nbsp; Go to&nbsp;<a data-cke-saved-href="https://rap.wehi.edu.au/" href="https://rap.wehi.edu.au/" title="https://rap.wehi.edu.au/" data-interception="off">RAP Global Protect Portal</a>&nbsp;and log in with WEHI authentication details:</p></div>
<p>2.&nbsp; Select the service you need from the dashboard</p>
<h4><span class="fontColorBlue">Contents on this page:</span></h4><p><span class="fontColorBlue"><span class="fontColorNeutralDark"><a href="/sites/rc2/SitePages/RAP-guacamole.aspx#guacamole" data-cke-saved-href="https://wehieduau.sharepoint.com/sites/rc2/SitePages/RAP-guacamole.aspx#guacamole" data-interception="on" title="https://wehieduau.sharepoint.com/sites/rc2/SitePages/RAP-guacamole.aspx#guacamole">Guacamole</a><br><a href="/sites/rc2/SitePages/RAP-guacamole.aspx#ssh-session" data-cke-saved-href="https://wehieduau.sharepoint.com/sites/rc2/SitePages/RAP-guacamole.aspx#ssh-session" data-interception="on" title="https://wehieduau.sharepoint.com/sites/rc2/SitePages/RAP-guacamole.aspx#ssh-session">SSH session</a><br><a href="/sites/rc2/SitePages/RAP-guacamole.aspx#how-to-get-my-vms-available-on-guacamole" data-cke-saved-href="https://wehieduau.sharepoint.com/sites/rc2/SitePages/RAP-guacamole.aspx#how-to-get-my-vms-available-on-guacamole" data-interception="on" title="https://wehieduau.sharepoint.com/sites/rc2/SitePages/RAP-guacamole.aspx#how-to-get-my-vms-available-on-guacamole">How to get my VMs available on Guacamole</a></span></span></p>
<h2><span class="fontColorThemeSecondary">Guacamole</span></h2><p>Guacamole is a web application that enables users to remotely access interactive virtual machines and other WEHI physical PCs.</p><p>The connection types include:<br><br></p><ul><li>SSH</li><li>VNC</li><li>RDP</li></ul>
<h4><br></h4>
<div class="canvasRteResponsiveTable"><div class="tableWrapper"><table style="width:556px;" class=" cke_show_border"><tbody><tr><td style="width:22px;"><p>​​​​​​​​​​​​​​​​​​​​​1.</p></td><td style="width:480px;"><ul><li>If you are inside WEHI, go to <a data-cke-saved-href="http://webvnc2.hpc.wehi.edu.au/" href="http://webvnc2.hpc.wehi.edu.au/" title="http://webvnc2.hpc.wehi.edu.au/" data-interception="off">Guacamole Remote Desktop Gateway</a></li><li>If you are outside WEHI, go to <a data-cke-saved-href="https://rap.wehi.edu.au/" href="https://rap.wehi.edu.au/" title="https://rap.wehi.edu.au/" data-interception="off">RAP Global Protect Portal</a> -&gt; RDP - SSH service.</li><li>Then log in with WEHI authentication details.</li></ul></td></tr></tbody></table></div></div>
<div class="canvasRteResponsiveTable"><div class="tableWrapper"><table style="width:556px;" class=" cke_show_border"><tbody><tr><td style="width:11px;">2.&nbsp;&nbsp;</td><td style="width:478px;">If you have an interactive machine or some share machines with the VNC module loaded, the connection names will be displayed on the list.</td></tr></tbody></table></div></div>
<h2><span class="fontColorThemeSecondary">SSH session</span></h2>
<div class="canvasRteResponsiveTable"><div class="tableWrapper"><table style="width:1138px;" class=" cke_show_border"><tbody><tr><td style="width:21px;"><br>​​​​​​​3.&nbsp; &nbsp;</td><td style="width:1063px;"><p>If you want to go back to the Home page or close the session, you need to find the button in the Guacamole menu. To open the menu:<br><br></p><ul><li>Mac users: press shift + control + option</li><li>Windows users: press shift + control + alt</li></ul></td></tr></tbody></table></div></div><ul></ul>
<h2><span class="fontColorThemePrimary">How to get my VMs available on Guacamole?</span></h2><p>Windows machines will be automatically registered into Guacamole so the connection should appear in the connection list when the machine is successfully applied and created.</p><p>Linux machines require the VNC module, so the following steps show how to make Linux machines available in Guacamole.</p><h3><span class="fontColorThemeSecondary">1.&nbsp; Check available modules</span></h3><p>Check if the module path has been added, using the following command:</p><pre><span class="fontColorNeutralDark">module avail</span></pre>
<p>If the module list does not show, then just type the following command to add the module path:</p><pre>module use /stornext/System/data/modulefiles/bioinf/its\n</pre><p>After running this command, run the <span class="fontColorBlue"><em>module avail</em></span> command again and the module list should appear.</p><h3><br><span class="fontColorThemeSecondary">2.&nbsp; Load VNC module and launch VNC server</span></h3><p>Once the module list shows up, load the turbovnc module directly with following command:</p><pre>module load turbovnc\n</pre><p>To check if the module has successfully loaded, type the following command:</p><pre>module list\n</pre>
<p>If the module has loaded, launch the VNC server using the<em> <span class="fontColorBlue">vncrun </span></em>command.</p><p>If the server ran successfully, the following prompts will show:</p><pre>Desktop 'TurboVNC: vc7-479.hpc.wehi.edu.au:1 (username)' started on display vc7-479.hpc.wehi.edu.au:1\n\nStarting applications specified in /stornext/System/data/apps/turbovnc/script/xstartup.turbovnc\nLog file is /home/users/allstaff/username/.vnc/vc7-479.hpc.wehi.edu.au:1.log\n</pre><p>The next step is to log in to Guacamole and access the connection:</p>
<h3><span class="fontColorThemeSecondary">Troubleshooting</span></h3><p>If you find a black screen when connecting, check if the VNC server is running normally.</p><pre>$ <span class="fontColorRed">ps -ef | grep vnc | grep your-username</span>\n\nyour-username   16658     1  0 14:32 pts/0    00:00:00 /stornext/System/data/apps/turbovnc/turbovnc-2.2/bin/Xvnc :1 -desktop TurboVNC: vc7-479.hpc.wehi.edu.au:1 (your-username) -httpd /stornext/System/data/apps/turbovnc/turbovnc-2.2/bin//../java -auth /home/users/allstaff/your-username/.Xauthority -geometry 1240x900 -depth 24 -rfbwait 120000 -rfbauth /tmp/your-username-vncUserDir/.vnc/passwd -x509cert /home/users/allstaff/your-username/.vnc/x509_cert.pem -x509key /home/users/allstaff/your-username/.vnc/x509_private.pem -rfbport 5901 -fp catalogue:/etc/X11/fontpath.d -deferupdate 1 -dridir /usr/lib64/dri -registrydir /usr/lib64/xorg\n\nyour-username  16665     1  0 14:32 pts/0    00:00:00 /bin/sh /stornext/System/data/apps/turbovnc/script/xstartup.turbovnc\n</pre><p><br>If "xstartup.turbovnc" is not running, kill the current VNC session and run again.</p><ol></ol>
